server {
    server_name alvarosegovia.com www.alvarosegovia.com;


    root /home/alvarosegovia/public_html;
    index index.html index.htm index.php;
    access_log /var/log/virtualmin/alvarosegovia.com_access_log;
    error_log /var/log/virtualmin/alvarosegovia.com_error_log;
    fastcgi_param GATEWAY_INTERFACE CGI/1.1;
    fastcgi_param SERVER_SOFTWARE nginx;
    fastcgi_param QUERY_STRING $query_string;
    fastcgi_param REQUEST_METHOD $request_method;
    fastcgi_param CONTENT_TYPE $content_type;
    fastcgi_param CONTENT_LENGTH $content_length;
    fastcgi_param SCRIPT_FILENAME /home/alvarosegovia/public_html$fastcgi_script_name;
    fastcgi_param SCRIPT_NAME $fastcgi_script_name;
    fastcgi_param REQUEST_URI $request_uri;
    fastcgi_param DOCUMENT_URI $document_uri;
    fastcgi_param DOCUMENT_ROOT /home/alvarosegovia/public_html;
    fastcgi_param SERVER_PROTOCOL $server_protocol;
    fastcgi_param REMOTE_ADDR $remote_addr;
    fastcgi_param REMOTE_PORT $remote_port;
    fastcgi_param SERVER_ADDR $server_addr;
    fastcgi_param SERVER_PORT $server_port;
    fastcgi_param SERVER_NAME $server_name;
    fastcgi_param HTTPS $https;

       ### SOLO AÃ‘ADIR ESTO EN EL SERVER
    location / {
         try_files $uri $uri/ /index.php?$args;
    }
    ###


    location ~ \.php$ {
         try_files $uri =404;
         fastcgi_pass unix:/var/php-nginx/159443261321869.sock/socket;
    }
    #listen 80
             listen 51.195.148.17:80;
    listen 51.195.148.17:443 default ssl;
    ssl_certificate /home/alvarosegovia/ssl.cert;
    ssl_certificate_key /home/alvarosegovia/ssl.key;
fastcgi_read_timeout 60;

  location ~* \.(blade\.php)$ {
deny all;
}

location ~* composer\.(json|lock)$ {
deny all;
}

location ~* package(-lock)?\.json$ {
deny all;
}

location ~* yarn\.lock$ {
deny all;
}

}
